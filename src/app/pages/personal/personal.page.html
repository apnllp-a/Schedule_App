<ion-header>

</ion-header>
<div class="ion-page" id="main-content-to">
    <ion-content class="ion-padding">
        <div class="content-personal" *ngIf="currentUser; else loggedOut">
            <div class="head-top">
                <div class="header">
                    <h3>ข้อมูลส่วนตัว</h3>
                    <ion-icon (click)="passAlert()" style="color: #ffffff;" size="large" slot="start"
                        [name]="passToggleIcon"></ion-icon>

                </div>
                <div class="name-tag">
                    <div *ngIf="btn == 'true'">
                        <h2 *ngIf="currentUser.name == '' ">{{ currentDataUser.name }}</h2>
                        <h2 *ngIf="currentDataUser.name == null">{{ currentUser.name }}</h2>
                        <h2 *ngIf="currentDataUser.name == ''">{{ currentUser.name }}</h2>
                        <h2 *ngIf="currentDataUser.name != '' || currentUser.name != '' ">{{ currentDataUser.name }}
                        </h2>
                        <span> @{{ currentUser.username }}</span>

                    </div>
                    <div *ngIf="btn == 'false'">
                        <h2 *ngIf="currentUser.username == ''"> @{{ currentDataUser.name }}</h2>
                        <h2 *ngIf="currentDataUser.name == ''"> @{{ currentUser.username }}</h2>
                        <h2 *ngIf="currentDataUser.name != '' || currentUser.username != '' "> @{{ currentUser.name }}
                        </h2>
                    </div>
                </div>
            </div>
            <div class="data-user" *ngIf="btn == 'true'">
                <!-- <div class="img-user">
                    <ion-img src="../../../assets/images/logo-sch.png" alt=""> </ion-img>
                </div> -->

                <!-- <h5>ข้อมูลต่างๆ</h5> -->
                <div class="details">
                    <p *ngIf="currentDataUser.position == '' || currentUser.position == '' || currentDataUser.position == null">ยังไม่ได้กำหนด
                        <b>ตำแหน่งงาน</b>
                    </p>
                    <p *ngIf="currentDataUser.position != ''">ตำแหน่งงาน : {{currentDataUser.position}}</p>

                    <p *ngIf="currentDataUser.department == '' || currentUser.department == '' || currentDataUser.department == null">ยังไม่ได้กำหนด
                        <b>แผนก</b></p>
                    <p *ngIf="currentDataUser.department != ''">แผนก : {{currentDataUser.department}}</p>

                    <p *ngIf="currentDataUser.address == '' || currentUser.address == '' || currentDataUser.address == null">ยังไม่ได้กำหนด <b>ที่อยู่</b>
                    </p>
                    <p *ngIf="currentDataUser.address != ''">ที่อยู่ : {{currentDataUser.address}}</p>

                    <p *ngIf="currentDataUser.phone == '' || currentUser.phone == '' || currentDataUser.phone == null">ยังไม่ได้กำหนด <b>เบอร์โทรศัพท์</b>
                    </p>
                    <p *ngIf="currentDataUser.phone != ''">เบอร์โทรศัพท์ : {{currentDataUser.phone}}</p>
                    <!-- </div> -->
                    <!-- <h5>วันเดือน ปี เกิด</h5> -->

                    <!-- <div class="date"> -->

                    <p *ngIf="currentDataUser.phone_iffice == '' || currentUser.phone_iffice == '' || currentDataUser.phone_iffice == null">ยังไม่ได้กำหนด
                        <b>วันเดือนปีเกิด</b>
                    </p>
                    <p *ngIf="currentDataUser.phone_iffice != ''">เกิดเมื่อ : {{currentDataUser.phone_iffice}}</p>

                    <p *ngIf="currentDataUser.age == '' || currentUser.age == '' || currentDataUser.age == null">ยังไม่ได้กำหนด <b>อายุ</b></p>
                    <p *ngIf="currentDataUser.age != ''">อายุ {{currentDataUser.age}} ปี</p>
                </div>


                <div class="pass-lock">
                    <h5>รหัสผ่าน</h5>
                    <p>*********</p>
                </div>
                <!-- <h5>ออกจากระบบ</h5> -->
                <div class="pass-lock">
                    <ion-button (click)="logout()" fill="outline" color="danger" shape="round"
                        style="width:100% ;">ออกจากระบบ</ion-button>
                </div>
            </div>


            <div class="data-user pd-mg" *ngIf="btn == 'false'">
                <!-- <div class="img-user">
                    <ion-img src="../../../assets/images/logo-sch.png" alt=""> </ion-img>
                </div> -->
                <div class="name-tag">
                    <ion-item class="ion-no-padding custom" lines="none">
                        <ion-input style="text-align: center;" [value]="name" (ngModelChange)="modelChangeFn($event)" [(ngModel)]="currentDataUser.name" required type="text"
                            placeholder="{{currentDataUser.name ? 'ระบุชื่อของคุณ' : 'แก้ไขชื่อของคุณ'}}"></ion-input> 
                    </ion-item>
                    
                    <!-- <span> @{{ currentUser.name }}</span> -->
                </div>
                <h5>ข้อมูลต่างๆ</h5>
                <div class="details">
                    <ion-item fill="outline" class="custom">
                        <ion-label>ตำแหน่งงาน : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.position" required type="text"
                            placeholder="{{currentDataUser.position ? 'ระบุตำแหน่งงาน' : 'แก้ไขตำแหน่งงาน'}}" [value]="position"></ion-input>
                    </ion-item>
                    <ion-item fill="outline" class="custom">
                        <ion-label>แผนก : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.department" required type="text"
                            placeholder="{{currentDataUser.department ? 'ระบุแผนก' : 'แก้ไขแผนก'}}" [value]="department"></ion-input>
                    </ion-item>
                    <ion-item fill="outline" class="custom">
                        <ion-label>ที่อยู่ : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.address" required type="text"
                            placeholder="{{currentDataUser.address ? 'ระบุที่อยู่' : 'แก้ไขที่อยู่'}}" [value]="address"></ion-input>
                    </ion-item>
                    <ion-item fill="outline" class="custom">
                        <ion-label>เบอร์โทรศัพท์ : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.phone" required type="text"
                            placeholder="{{currentDataUser.phone ? 'ระบุเบอร์โทรศัพท์' : 'แก้ไขเบอร์โทรศัพท์'}}" [value]="phone"></ion-input>
                    </ion-item>

                    <!-- </div> -->
                    <!-- <h5>วันเดือน ปี เกิด</h5> -->

                    <!-- <div class="date"> -->

                    <ion-item fill="outline" class="custom">
                        <ion-label>เกิดเมื่อ : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.phone_iffice" required type="date"
                            placeholder="{{currentDataUser.phone_iffice ? 'ระบุวันเกิด' : 'แก้ไขวันเกิด'}}" [value]="phone_iffice"></ion-input>
                    </ion-item>
                    <ion-item fill="outline" class="custom">
                        <ion-label>อายุ : </ion-label>
                        <ion-input [(ngModel)]="currentDataUser.age" required type="text"
                            placeholder="{{currentDataUser.age ? 'ระบุอายุของคุณ' : 'แก้ไขอายุของคุณ'}}" [value]="age"></ion-input>
                    </ion-item>

                </div>
                <h5>รหัสผ่าน</h5>

                <div class="pass-lock">
                    <ion-item fill="outline" class="custom">
                        <ion-label>Password : </ion-label>
                        <ion-input required [(ngModel)]="passFormUser" [type]="showpass ? 'text':'password'"
                            [placeholder]="currentUser.password"></ion-input>
                        <ion-icon (click)="togglePass()" style="color: #769FCD;" slot="end"
                            [name]="passToggleIconpass"></ion-icon>
                    </ion-item>
                    <span *ngIf="err_checkPass == false" style="color:red;">**กรุณาตรวจสอบรหัสผ่านอีกครั้ง</span>
                    <span *ngIf="err_checkPass == true" style="color: green;">**รหัสผ่านถูกต้อง</span>
                    <ion-button (click)="checkPass(passFormUser)">ตรวจสอบรหัสผ่าน</ion-button>

                </div>
                <div class="btn-group">
                    <ion-button (click)="saveTutorial(currentDataUser.user_id)">อัพเดตข้อมูล</ion-button>
                    <ion-button (click)=" presentAlertMultipleButtons()">ยกเลิก</ion-button>
                </div>

            </div>
        </div>

        <ng-template #loggedOut>
            Please login.
        </ng-template>






        <!-- <div class="container" >
            <header class="jumbotron">
              <h3>
                <strong></strong> Profile
              </h3>
            </header>
            <p>
              <strong>Email:</strong>
              {{ currentUser.email }}
            </p>
            <strong>Roles:</strong>
            <ul>
              <li *ngFor="let role of currentUser.roles">
                {{ role }}
              </li>
            </ul>
          </div> -->



    </ion-content>


</div>